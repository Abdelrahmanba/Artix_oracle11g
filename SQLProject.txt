CREATE TABLE ARTIST (
  ARTISTID NUMBER(5,0), 
	ARTISTNAME VARCHAR2(20 ) NOT NULL , 
	HISTORY CLOB NOT NULL , 
	PICURL VARCHAR2(500), 
	 CONSTRAINT ATRIST_ID_PK PRIMARY KEY (ARTISTID)
) ;
 
    CREATE TABLE PAINTING (
  BARCODE NUMBER(10,0), 
	HIGHT NUMBER(12,2), 
	WIDTH NUMBER(12,2), 
	UNIT VARCHAR2(6),  
	GENRE VARCHAR2(12), 
	ARTID NUMBER(5,0), 
	PURCHASEDATE DATE, 
	CREATEDATE DATE, 
     ADDDATE DATE,
    NAME VARCHAR2(32), 
	PRICE NUMBER(12,2), 
	DESCRIPTION CLOB, 
	IMAGEURL VARCHAR2(500), 
	 CONSTRAINT CH_GEN CHECK (genre IN ('animals', 'birds', 'flowers', 'naturescapes', 'vintage', 'city', 'realistic','portrait')), 
	 CONSTRAINT PAINTING_BARCODE_PK PRIMARY KEY (BARCODE), 
	 CONSTRAINT CH_UNIT CHECK (unit in ('INCH','CM','METER')), 
	 CONSTRAINT PAINTING_ARTIST_FK FOREIGN KEY (ARTID)  REFERENCES ARTIST (ARTISTID) 
    );



    CREATE TABLE CUSTOMER (
    USERNAMEC VARCHAR2(16), 
	  EMAIL VARCHAR2(30), 
	  PASS VARCHAR2(20), 
	PHONENUMBER CHAR(14), 
	BDATE DATE, 
	FIRSTNAME VARCHAR2(16), 
	LASTNAME VARCHAR2(16), 
	COUNTRY VARCHAR2(16), 
	STATE VARCHAR2(10), 
	CITY VARCHAR2(10), 
	STREET VARCHAR2(25), 
	PROFILEPICURL VARCHAR2(500), 
	CCNUMBER NUMBER(16,0), 
	CCHOLDERNAME VARCHAR2(20), 
	CCEXPYEAR NUMBER(2,0), 
	CCEXPMONTH NUMBER(2,0), 
	CCV NUMBER(3,0), 
  
	 CONSTRAINT CUSTOMER_USERNAME_PK PRIMARY KEY (USERNAMEC), 
	 CONSTRAINT UNIQUE_CEMAIL_CONSTRAINT UNIQUE (EMAIL)
  );
  

  CREATE TABLE EMPLOYEE (	
  USERNAMEE VARCHAR2(16), 
	PASS VARCHAR2(20) NOT NULL , 
	POSITION VARCHAR2(16 ) NOT NULL, 
	FIRSTNAME VARCHAR2(16 ), 
	LASTNAME VARCHAR2(16 ), 
	SALARY NUMBER(8,2), 
	CVURL VARCHAR2(100 ) NOT NULL , 
	IBAN VARCHAR2(34 ), 
	BANKNAME VARCHAR2(16 ), 
	ADMIN NUMBER(1,0), 
	 CONSTRAINT EMPLOYEE_USERNAME_PK PRIMARY KEY (USERNAMEE)
   );

  CREATE TABLE LIKES (
  USERNAME VARCHAR2(16),
  BARCODE NUMBER(10),
  CONSTRAINT USERNAME_BARCODE_LIKES_PK PRIMARY KEY (USERNAME,BARCODE),
  CONSTRAINT USERNAME_LIKES_FK FOREIGN KEY (USERNAME) REFERENCES CUSTOMER (USERNAMEC) on delete cascade,
    CONSTRAINT BARCODE_LIKES_FK FOREIGN KEY (BARCODE) REFERENCES PAINTING (BARCODE) on delete cascade);

  CREATE TABLE ORDERS (
  ORDERID NUMBER(8,0), 
	TOTALPRICE NUMBER(8,0), 
	CUSTOMERNAME VARCHAR2(16), 
	STATUS VARCHAR2(20), 
	PDATE DATE, 
	 CONSTRAINT ORDERID_PK PRIMARY KEY (ORDERID),
	 CONSTRAINT CUSTOMER_FK FOREIGN KEY (CUSTOMERNAME)  REFERENCES CUSTOMER (USERNAMEC) on delete set null
   ) ;
   
  CREATE TABLE ORDERDETAIL (
	ORDERID NUMBER(8,0), 
	BARCODE NUMBER(10,0), 
	 CONSTRAINT ORDERDETAIL_PK PRIMARY KEY (orderID,barcode),
	 CONSTRAINT ORDERID_FK FOREIGN KEY (ORDERID) REFERENCES ORDERS (ORDERID) , 
	 CONSTRAINT BARCODE_FK FOREIGN KEY (BARCODE)  REFERENCES PAINTING (BARCODE)  ON DELETE CASCADE
   ) ;


 CREATE TABLE SHOPCART (
  CARTID VARCHAR2(5), 
	USERNAME VARCHAR2(16 BYTE) NOT NULL, 
	CHECKEDOUT NUMBER(1,0), 
	 CONSTRAINT CAR_CARTID_PK PRIMARY KEY (CARTID),
	 CONSTRAINT CART_USER_FK FOREIGN KEY (USERNAME) REFERENCES CUSTOMER (USERNAMEC) ON DELETE CASCADE 
   ) ;
   
     CREATE TABLE CARTDETAIL (	
   CARTID VARCHAR2(5 ), 
	BARCODE NUMBER(10,0), 
	 CONSTRAINT CARTID_BARCODE_PK PRIMARY KEY (CARTID, BARCODE),
	 CONSTRAINT CARTDETAIL_CART_FK FOREIGN KEY (CARTID) REFERENCES SHOPCART (CARTID) ON DELETE CASCADE, 
	 CONSTRAINT CART_PAINTING_FK FOREIGN KEY (BARCODE)  REFERENCES PAINTING (BARCODE) ON DELETE CASCADE
   );
   
   CREATE SEQUENCE  ARTISTSEQ  MINVALUE 1  INCREMENT BY 1 START WITH 1 CACHE 10 ;
   CREATE SEQUENCE  CARTSEQ  MINVALUE 1 INCREMENT BY 1 START WITH 1 CACHE 10   NOCYCLE ;
   CREATE SEQUENCE ORDERIDSEQ  MINVALUE 1 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
 